parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"lXyf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initializeBoard=r,exports.updateBoardDOM=a,exports.resetBoard=o,exports.clearBoardDOM=i,exports.newTiles=exports.board=void 0;var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];exports.board=e;var t=Array(4).fill().map(function(){return Array(4).fill(!1)});function r(){for(var e=document.querySelector(".game-field"),t=0;t<4;t++){var r=document.createElement("div");r.classList.add("row");for(var a=0;a<4;a++){var o=document.createElement("div");o.classList.add("field-cell"),o.setAttribute("data-row",t),o.setAttribute("data-col",a),r.appendChild(o)}e.appendChild(r)}}function a(){i();for(var r=function(r){for(var a=function(a){if(0!==e[r][a]){var o=document.querySelector("[data-row='".concat(r,"'][data-col='").concat(a,"']")),i=document.createElement("div");i.classList.add("tile"),i.classList.add("tile--".concat(e[r][a])),i.textContent=e[r][a],t[r][a]&&i.classList.add("tile--new"),o.appendChild(i),t[r][a]&&setTimeout(function(){i.classList.remove("tile--new"),t[r][a]=!1},300)}},o=0;o<4;o++)a(o)},a=0;a<4;a++)r(a)}function o(){for(var t=0;t<4;t++)for(var r=0;r<4;r++)e[t][r]=0;i()}function i(){document.querySelectorAll(".field-cell").forEach(function(e){e.innerHTML="",e.className="field-cell"})}exports.newTiles=t;
},{}],"xHra":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameState=void 0;var e={gameStarted:!1,gameOver:!1,setGameStarted:function(e){this.gameStarted=e},isGameStarted:function(){return this.gameStarted},setGameOver:function(e){this.gameOver=e},isGameOver:function(){return this.gameOver}};exports.GameState=e;
},{}],"KtnU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getScore=t,exports.setScore=o,exports.addScore=n,exports.resetScore=r,exports.updateScoreDisplay=c,exports.updateScore=a;var e=0;function t(){return e}function o(t){if(t!==e){var o=t-e;e=t,c(o)}}function n(e){var n=t();console.log("Adding ".concat(e," to ").concat(n)),o(n+e),s()}function r(){e=0}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=document.querySelector(".game-score"),n=document.querySelector(".game-score--added");o.textContent=e,t>0&&(console.log("Updating display with added score: +".concat(t)),n.textContent="+".concat(t),n.style.opacity="1",setTimeout(function(){n.style.opacity="0",n.style.transform="translateY(+2px)"},400))}function s(){var e=document.querySelector(".game-score");e.style.transform="translateY(-3px)",setTimeout(function(){e.style.transform=""},300)}function a(e){e>0&&setTimeout(function(){n(e)},200)}
},{}],"R3CX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTile=t,exports.moveTile=o,exports.canMerge=r,exports.mergeTiles=a;var e=require("./modules/board.js");function t(t,o,r){e.newTiles[t][o]=!0;var a=document.createElement("div");a.classList.add("tile"),a.classList.add("tile--".concat(r)),e.newTiles[t][o]&&a.classList.add("tile--new"),a.textContent=r,document.querySelector("[data-row='".concat(t,"'][data-col='").concat(o,"']")).appendChild(a),setTimeout(function(){a.classList.remove("tile--new"),e.newTiles[t][o]=!1},300)}function o(t,o,r,a){e.board[r][a]=e.board[t][o],e.board[t][o]=0}function r(t,o,r,a){return 0!==e.board[t][o]&&e.board[t][o]===e.board[r][a]}function a(t,o,r,a){var n=2*e.board[t][o];return e.board[r][a]=n,e.board[t][o]=0,n}
},{"./modules/board.js":"lXyf"}],"M2j0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.moveLeft=a,exports.moveRight=t,exports.moveUp=i,exports.moveDown=n;var e=require("./board.js"),r=require("./scoreManager.js"),o=require("../_utils.js");function a(){for(var a=!1,t=0,i=0;i<4;i++)for(var n=0,u=0;u<4;u++)0!==e.board[i][u]&&(n!==u&&((0,o.moveTile)(i,u,i,n),a=!0),0!==n&&(0,o.canMerge)(i,n,i,n-1)?(t+=(0,o.mergeTiles)(i,n,i,n-1),a=!0):n++);return(0,r.updateScore)(t),a}function t(){for(var a=!1,t=0,i=0;i<4;i++)for(var n=3,u=3;u>=0;u--)0!==e.board[i][u]&&(n!==u&&((0,o.moveTile)(i,u,i,n),a=!0),3!==n&&(0,o.canMerge)(i,n,i,n+1)?(t+=(0,o.mergeTiles)(i,n,i,n+1),a=!0):n--);return(0,r.updateScore)(t),a}function i(){for(var a=!1,t=0,i=0;i<4;i++)for(var n=0,u=0;u<4;u++)0!==e.board[u][i]&&(n!==u&&((0,o.moveTile)(u,i,n,i),a=!0),0!==n&&(0,o.canMerge)(n,i,n-1,i)?(t+=(0,o.mergeTiles)(n,i,n-1,i),a=!0):n++);return(0,r.updateScore)(t),a}function n(){for(var a=!1,t=0,i=0;i<4;i++)for(var n=3,u=3;u>=0;u--)0!==e.board[u][i]&&(n!==u&&((0,o.moveTile)(u,i,n,i),a=!0),3!==n&&(0,o.canMerge)(n,i,n+1,i)?(t+=(0,o.mergeTiles)(n,i,n+1,i),a=!0):n--);return(0,r.updateScore)(t),a}
},{"./board.js":"lXyf","./scoreManager.js":"KtnU","../_utils.js":"R3CX"}],"tL3R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hideMessages=s,exports.updateStartButton=u;var e=o(require("./scoreManager.js")),t=o(require("./gameControl.js")),r=require("./gameState.js"),a=o(require("./board.js"));function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function s(){document.querySelector(".message-lose").classList.add("hidden"),document.querySelector(".message-win").classList.add("hidden"),document.querySelector(".message-start").classList.add("hidden")}function u(n){n.textContent=r.GameState.isGameStarted()?"Restart":"Start",n.addEventListener("click",function(){a.resetBoard(),e.resetScore(),t.populateRandomCell(),t.populateRandomCell(),a.updateBoardDOM(),e.updateScoreDisplay(),s(),r.GameState.setGameStarted(!0),n.textContent="Restart"})}
},{"./scoreManager.js":"KtnU","./gameControl.js":"nSUH","./gameState.js":"xHra","./board.js":"lXyf"}],"nSUH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startGame=p,exports.populateRandomCell=y,exports.checkForWin=v,exports.checkForGameOver=b,exports.updateAfterMove=m;var e=require("../_utils.js"),r=i(require("./UIManager.js")),t=i(require("./board.js")),o=require("./scoreManager.js"),n=i(require("./gameState.js"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,r&&r.set(e,t),t}function u(e,r){return d(e)||l(e,r)||c(e,r)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,r){if(e){if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,r):void 0}}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function l(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],o=!0,n=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(o=(i=u.next()).done)&&(t.push(i.value),!r||t.length!==r);o=!0);}catch(s){n=!0,a=s}finally{try{o||null==u.return||u.return()}finally{if(n)throw a}}return t}}function d(e){if(Array.isArray(e))return e}function p(){t.resetBoard(),(0,o.resetScore)(),y(),y(),(0,t.updateBoardDOM)(),(0,o.updateScoreDisplay)(),r.hideMessages()}function y(){for(var r=[],o=0;o<4;o++)for(var n=0;n<4;n++)0===t.board[o][n]&&r.push([o,n]);if(r.length>0){var a=u(r[Math.floor(Math.random()*r.length)],2),i=a[0],s=a[1],c=Math.random()<.9?2:4;t.board[i][s]=c,(0,e.createTile)(i,s,c)}}function v(){for(var e=0;e<4;e++)for(var r=0;r<4;r++){if(2048===t.board[e][r])document.querySelector(".message-win").classList.remove("hidden"),n.setGameOver(!0)}}function b(){for(var e=0;e<4;e++)for(var r=0;r<4;r++){if(0===t.board[e][r])return!1;if(e<3&&t.board[e][r]===t.board[e+1][r])return!1;if(r<3&&t.board[e][r]===t.board[e][r+1])return!1}return document.querySelector(".message-lose").classList.remove("hidden"),n.setGameOver(!0),!0}function m(){y(),(0,t.updateBoardDOM)(),(0,o.updateScoreDisplay)(),v(),b()}
},{"../_utils.js":"R3CX","./UIManager.js":"tL3R","./board.js":"lXyf","./scoreManager.js":"KtnU","./gameState.js":"xHra"}],"SOh0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.listenForKeyboardEvents=a;var e=require("./movement.js"),t=n(require("./gameControl.js")),r=require("./gameState.js");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function a(){document.addEventListener("keydown",function(o){if(r.GameState.isGameStarted()&&!r.GameState.isGameOver()){var n=!1;switch(o.key){case"ArrowUp":n=(0,e.moveUp)();break;case"ArrowDown":n=(0,e.moveDown)();break;case"ArrowLeft":n=(0,e.moveLeft)();break;case"ArrowRight":n=(0,e.moveRight)()}n&&t.updateAfterMove()}})}
},{"./movement.js":"M2j0","./gameControl.js":"nSUH","./gameState.js":"xHra"}],"KIzB":[function(require,module,exports) {
"use strict";var e=a(require("./modules/board.js")),t=require("./modules/gameState.js"),r=a(require("./modules/inputHandler.js")),n=a(require("./modules/UIManager.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}var u=document.querySelector(".start");document.addEventListener("DOMContentLoaded",function(){e.initializeBoard(),r.listenForKeyboardEvents()}),n.updateStartButton(u),r.listenForKeyboardEvents(),t.GameState.setGameStarted(!1);
},{"./modules/board.js":"lXyf","./modules/gameState.js":"xHra","./modules/inputHandler.js":"SOh0","./modules/UIManager.js":"tL3R"}]},{},["KIzB"], null)
//# sourceMappingURL=main.0293a7d4.js.map